<article class="container form">
  <h1>Editar usuario</h1>

  <form action="/users/{{user._id}}/edit" method="POST" enctype="multipart/form-data">
 <div class="form-group">
      {{!-- {{#if (isStablishment type)}}
        {{type}}
      {{/if}} --}}

      <label for="type">Tipo</label>
      <input name="type" type="text" value="{{user.type}}" class="form-control {{#if error.type }}is-invalid{{/if}}"
        id="type" required>
    </div>
    <div class="form-group">
      <label for="name">Nombre</label>
      <input name="name" type="text" value="{{user.name}}" class="form-control {{#if error.name }}is-invalid{{/if}}"
        id="name" required>

      {{#if error.name}}
      <div class="invalid-feedback">
        {{error.name.message}}
      </div>
      {{/if}}
    </div>

    {{#if (isStablishment user.type)}}

    <div class="form-group">
      <label for="category">Tipo de establecimiento</label>
      <select class="form-control" id="category" name="category">
        <option value="Cafetería">Cafetería</option>
        <option value="Restauración">Restauración</option>
        <option value="Cervecería">Cervecería</option>
        <option value="Ocio Nocturno">Ocio Nocturno</option>
        <option value="Espectáculos">Espectáculos</option>
      </select>
    </div>





    <div class="form-group">
      <label for="name">Dirección</label>
      <input id="address" type="textbox" class="form-control" value="{{user.address}}, {{user.number}}"/>
     
      <input id="submit" type="button" placeholder="Validar dirección" value="Validar dirección"
        class="form-control button" />
      <div id="map"></div>

      <input name="addressnew" type="text" class="form-control {{#if error.name }}is-invalid{{/if}}" id="addressnew"
        required>

      {{#if error.addressnew}}
      <div class="invalid-feedback">
        {{error.name.addressnew}}
      </div>
      {{/if}}
    </div>
    <div class="form-group" style="display: none">
      <label for="name">LatLong</label>
      <input name="latlong" type="text" class="form-control {{#if error.name }}is-invalid{{/if}}" id="latlong" required>

      {{#if error.addressnew}}
      <div class="invalid-feedback">
        {{error.name.addressnew}}
      </div>
      {{/if}}
    </div>

    {{/if}}

    <div class="form-group">
      <label for="email">Email</label>
      <input type="email" value="{{user.email}}" class="form-control {{#if error.email }}is-invalid{{/if}}" id="email"
        name="email" placeholder="email" required>

      {{#if error.email}}
      <div class="invalid-feedback">
        {{error.email.message}}
      </div>
      {{/if}}
    </div>

    {{#if (isStablishment user.type)}}

    <div class="form-group">
      <label for="contactEmail">Email de contacto</label>
      <input type="email" value="{{user.contactEmail}}"
        class="form-control {{#if error.contactEmail }}is-invalid{{/if}}" id="contact-email" name="contactEmail"
        placeholder="email de contacto" required>

      {{#if error.contactEmail}}
      <div class="invalid-feedback">
        {{error.contactEmail.message}}
      </div>
      {{/if}}
    </div>

    <div class="form-group">
      <label for="name">Teléfono</label>
      <input name="telephone" type="tel" value="{{user.telephone}}"
        class="form-control {{#if error.telephone }}is-invalid{{/if}}" id="telephone" required>

      {{#if error.telephone}}
      <div class="invalid-feedback">
        {{error.telephone.message}}
      </div>
      {{/if}}
    </div>
    {{/if}}

    <div class="form-group">
      <label for="password">Contraseña</label>
      <input type="password" class="form-control {{#if error.password }}is-invalid{{/if}}" id="password"
        name="password" disabled>

      {{#if error.password}}
      <div class="invalid-feedback">
        {{error.password.message}}
      </div>
      {{/if}}
    </div>

    <div class="form-group">
      <label for="bio">Bio</label>
      <textarea rows="5" type="text" class="form-control {{#if error.bio }}is-invalid{{/if}}" name="bio"
        id="bio">{{user.bio}}</textarea>

      {{#if error.bio}}
      <div class="invalid-feedback">
        {{error.bio.message}}
      </div>
      {{/if}}
    </div>

    <div class="form-group">
      

      <label for="avatar">Avatar</label>
      <img src="{{user.avatar}}" width="100" class="mr-2 rounded-circle"/>
      <input type="file" class="form-control-file {{#if error.avatar }}is-invalid{{/if}}" id="avatar" name="avatar">

      {{#if error.avatar}}
      <div class="invalid-feedback">
        {{error.avatar.message}}
      </div>
      {{/if}}
    </div>

    <button type="submit" class="btn btn-primary">Enviar</button>


  
  </form>





  </div>


</article>